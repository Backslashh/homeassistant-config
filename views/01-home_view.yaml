  - icon: mdi:home-assistant
    id: home
    title: home
    path: home
    badges: []
    cards:
    - type: vertical-stack
      cards:
        - type: markdown
          content: |
            # Family Status
          style: |
            ha-card {
                --paper-card-background-color: 'rgba(11, 11, 11, 0.00)';
                box-shadow: 2px 2px rgba(0,0,0,0.0);
            }
            h1 {
              font-size: 20px;
              font-weight: bold;
              font-family: Helvetica;
              letter-spacing: '-0.01em';
            }
        - type: horizontal-stack
          cards:
            - type: 'custom:button-card'
              entity: person.william
              name: William
              show_entity_picture: true
              size: 69%
              state:
                - value: home
                  styles:
                    name:
                      - color: '#629632'
                  entity_picture: "/local/images/persons/william_home.png"
                - value: not_home
                  entity_picture: "/local/images/persons/william_away.png"
                  styles:
                    name:
                      - color: '#EF4F1A'
                - value: woolies_warner
                  entity_picture: "/local/images/persons/william_shops.png"
                  styles:
                    name:
                      - color: '#EF4F1A'
              styles:
                card:
                  - width: 150px
                  - height: 150px
                  - font-size: 12px
                  - text-shadow: 0px 0px 0px black
                  - text-transform: capitalize
                  - justify-self: end
                  - align-self: middle
                grid:
                  - grid-template-areas: '"i" "n" "status" "battery"'
                  - grid-template-columns: 1fr
                  - grid-template-rows: 1fr min-content min-content min-content
                name:
                  - font-size: 16px
                  - align-self: middle
                  - justify-self: start
                  - padding-bottom: 0px
                custom_fields:
                  status:
                    - align-self: start
                    - justify-self: start
                    - color: gray
                  battery:
                    - padding-bottom: 0px
                    - align-self: middle
                    - justify-self: start
                    - color: gray
                    - '--text-color-sensor': '[[[ if (states["sensor.william_battery"].state < 50) return "#EF4F1A"; ]]]'
              custom_fields:
                status: |
                  [[[
                    return `<span>${entity.state}</span>`
                  ]]]
                battery: |
                  [[[
                    return `<ha-icon icon="mdi:cellphone-android" style="width: 12px; height: 12px; color: deepskyblue;"> </ha-icon> <span><span style="color: var(--text-color-sensor);">${states['sensor.william_battery'].state}% battery</span></span>`
                  ]]]
              style: |
                ha-card {
                  background-color: var(--primary-background-color);
                  border-radius: 15px;
                  margin: 10px;
                  box-shadow: 
                    {% if is_state('sun.sun', 'above_horizon') %}
                      -8px -8px 8px 0 rgba(255,255,255,.5),8px 8px 8px 0 rgba(0,0,0,.03);
                    {% else %}
                      -8px -8px 8px 0 rgba(50, 50, 50,.5),8px 8px 8px 0 rgba(0,0,0,.15);
                    {% endif %}   
                }
            - type: 'custom:button-card'
              entity: person.emily
              name: Emily
              show_entity_picture: true
              size: 69%
              state:
                - value: home
                  styles:
                    name:
                      - color: '#629632'
                  entity_picture: "/local/images/persons/emily_home.jpeg"
                - value: not_home
                  entity_picture: "/local/images/persons/emily_away.jpeg"
                  styles:
                    name:
                      - color: '#EF4F1A'
              styles:
                card:
                  - width: 150px
                  - height: 150px
                  - font-size: 12px
                  - text-shadow: 0px 0px 0px black
                  - text-transform: capitalize
                  - justify-self: end
                  - align-self: middle
                grid:
                  - grid-template-areas: '"i" "n" "status" "battery"'
                  - grid-template-columns: 1fr
                  - grid-template-rows: 1fr min-content min-content min-content
                name:
                  - font-size: 16px
                  - align-self: middle
                  - justify-self: start
                  - padding-bottom: 0px
                custom_fields:
                  status:
                    - align-self: start
                    - justify-self: start
                    - color: gray
                  battery:
                    - padding-bottom: 0px
                    - align-self: middle
                    - justify-self: start
                    - color: gray
                    - '--text-color-sensor': '[[[ if (states["sensor.emily_battery_level"].state < 50) return "#EF4F1A"; ]]]'
              custom_fields:
                status: |
                  [[[
                    return `<span>${entity.state}</span>`
                  ]]]
                battery: |
                  [[[
                    return `<ha-icon
                      icon="mdi:cellphone-android"
                      style="width: 12px; height: 12px; color: deepskyblue;">
                      </ha-icon> <span><span style="color: var(--text-color-sensor);">${states['sensor.emily_battery_level'].state}% battery</span></span>`
                  ]]]
              style: |
                ha-card {
                  background-color: var(--primary-background-color);
                  border-radius: 15px;
                  margin: 10px;
                  box-shadow: 
                    {% if is_state('sun.sun', 'above_horizon') %}
                      -8px -8px 8px 0 rgba(255,255,255,.5),8px 8px 8px 0 rgba(0,0,0,.03);
                    {% else %}
                      -8px -8px 8px 0 rgba(50, 50, 50,.5),8px 8px 8px 0 rgba(0,0,0,.15);
                    {% endif %}   
                }
    - type: vertical-stack
      cards:
        - type: conditional
          conditions:
            - entity: group.all_lights
              state: "on"
          card:
            type: entity-filter
            entities:
              - light.bedroom_lamps
              - light.lounge_room_lamp
              - light.kitchen_lights
              - light.ollie_s_lamp
              - light.teddy_s_lamp
            state_filter:
              - "on"
            card:
              type: entities
              title: Lights on
              show_header_toggle: false
              style: |
                ha-card {
                  background-color: var(--primary-background-color);
                  border-radius: 15px;
                  margin: 10px;
                  box-shadow: 
                    {% if is_state('sun.sun', 'above_horizon') %}
                      -8px -8px 8px 0 rgba(255,255,255,.5),8px 8px 8px 0 rgba(0,0,0,.03);
                    {% else %}
                      -8px -8px 8px 0 rgba(50, 50, 50,.5),8px 8px 8px 0 rgba(0,0,0,.15);
                    {% endif %}   
                }
    - type: vertical-stack
      cards:
        - type: markdown
          content: |
            # Security
          style: |
            ha-card {
                --paper-card-background-color: 'rgba(11, 11, 11, 0.00)';
                box-shadow: 2px 2px rgba(0,0,0,0.0);
            }
            h1 {
              font-size: 20px;
              font-weight: bold;
              font-family: Helvetica;
              letter-spacing: '-0.01em';
            }
        - type: horizontal-stack
          cards:
            - entity: alarm_control_panel.home_alarm
              name: Home Alarm
              show_state: true
              state:
                - styles:
                    icon:
                      - color: '#F0DC6E'
                  value: pending
                - styles:
                    icon:
                      - color: '#D3D2D0'
                  value: disarmed
                - styles:
                    icon:
                      - color: '#F9160B'
                  value: armed_away
                - styles:
                    icon:
                      - color: '#16A914'
                  value: armed_home
              template: standard_button
              size: 30px
              type: 'custom:button-card'
              styles:
                card:
                  - border-radius: 15px
                  - background-color: var(--primary-background-color)
              style: |
                ha-card {
                  margin: 10px;
                  box-shadow: 
                    {% if is_state('sun.sun', 'above_horizon') %}
                      -8px -8px 8px 0 rgba(255,255,255,.5),8px 8px 8px 0 rgba(0,0,0,.03);
                    {% elif is_state('sun.sun', 'below_horizon') %}
                      -8px -8px 8px 0 rgba(50, 50, 50,.5),8px 8px 8px 0 rgba(0,0,0,.15);
                    {% endif %}    
                }
            - entity: input_boolean.guest_mode
              name: guest mode
              show_state: true
              template: standard_button
              size: 30px
              type: 'custom:button-card'
              state:
                - icon: 'mdi:account-multiple'
                  value: 'on'
                - icon: 'mdi:account'
                  value: 'off'
                  color: '#D3D2D0'
              styles:
                card:
                  - border-radius: 15px
                  - background-color: var(--primary-background-color)
              style: |
                ha-card {
                  margin: 10px;
                  box-shadow: 
                    {% if is_state('sun.sun', 'above_horizon') %}
                      -8px -8px 8px 0 rgba(255,255,255,.5),8px 8px 8px 0 rgba(0,0,0,.03);
                    {% elif is_state('sun.sun', 'below_horizon') %}
                      -8px -8px 8px 0 rgba(50, 50, 50,.5),8px 8px 8px 0 rgba(0,0,0,.15);
                    {% endif %}    
                }
            - type: conditional
              conditions:
                - entity: binary_sensor.garage_door
                  state: "on"
              card:
                type: 'custom:button-card'
                entity: binary_sensor.garage_door
                name: Back Door
                show_state: true
                state:
                  - icon: 'mdi:garage-open-variant'
                    value: open
                    color: '#EF4F1A'
                  - icon: 'mdi:garage-variant'
                    value: closed
                    color: '#00993E'
                #template: standard_button
                size: 30px
                styles:
                  card:
                    - border-radius: 15px
                    - background-color: var(--primary-background-color)
                style: |
                  ha-card {
                    margin: 10px;
                    box-shadow: 
                      {% if is_state('sun.sun', 'above_horizon') %}
                        -8px -8px 8px 0 rgba(255,255,255,.5),8px 8px 8px 0 rgba(0,0,0,.03);
                      {% elif is_state('sun.sun', 'below_horizon') %}
                        -8px -8px 8px 0 rgba(50, 50, 50,.5),8px 8px 8px 0 rgba(0,0,0,.15);
                      {% endif %}
            - type: conditional
              conditions:
                - entity: binary_sensor.back_door
                  state: "on"
              card:
                type: 'custom:button-card'
                entity: binary_sensor.back_door
                name: Back Door
                show_state: true
                state:
                  - icon: 'mdi:door-open'
                    value: open
                    color: '#EF4F1A'
                  - icon: 'mdi:door-closed'
                    value: closed
                    color: '#00993E'
                template: standard_button
                size: 30px
                
                styles:
                  card:
                    - border-radius: 15px
                    - background-color: var(--primary-background-color)
                style: |
                  ha-card {
                    margin: 10px;
                    box-shadow: 
                      {% if is_state('sun.sun', 'above_horizon') %}
                        -8px -8px 8px 0 rgba(255,255,255,.5),8px 8px 8px 0 rgba(0,0,0,.03);
                      {% elif is_state('sun.sun', 'below_horizon') %}
                        -8px -8px 8px 0 rgba(50, 50, 50,.5),8px 8px 8px 0 rgba(0,0,0,.15);
                      {% endif %}
    - type: vertical-stack
      cards:
        - type: markdown
          content: |
            # Ollie's Meds
          style: |
            ha-card {
                --paper-card-background-color: 'rgba(11, 11, 11, 0.00)';
                box-shadow: 2px 2px rgba(0,0,0,0.0);
            }
            h1 {
              font-size: 20px;
              font-weight: bold;
              font-family: Helvetica;
              letter-spacing: '-0.01em';
            }
        - type: horizontal-stack
          cards:
            - entity: input_boolean.morning_meds_taken
              name: Morning Meds
              show_state: false
              template: standard_button
              type: 'custom:button-card'
              size: 30px
              state:
                - icon: 'mdi:check-circle'
                  value: 'on'
                  color: '#00b800'
                - icon: 'mdi:pill'
                  value: 'off'
                  color: '#D3D2D0'
              styles:
                card:
                  - border-radius: 15px
                  - background-color: var(--primary-background-color)
              style: |
                ha-card {
                  margin: 10px;
                  box-shadow: 
                    {% if is_state('sun.sun', 'above_horizon') %}
                      -8px -8px 8px 0 rgba(255,255,255,.5),8px 8px 8px 0 rgba(0,0,0,.03);
                    {% elif is_state('sun.sun', 'below_horizon') %}
                      -8px -8px 8px 0 rgba(50, 50, 50,.5),8px 8px 8px 0 rgba(0,0,0,.15);
                    {% endif %}    
                }
            - entity: input_boolean.evening_meds_taken
              name: Evening Meds
              show_state: false
              template: standard_button
              type: 'custom:button-card'
              size: 30px
              state:
                - icon: 'mdi:check-circle'
                  value: 'on'
                  color: '#00b800'
                - icon: 'mdi:pill'
                  value: 'off'
                  color: '#D3D2D0'
              styles:
                card:
                  - border-radius: 15px
                  - background-color: var(--primary-background-color)
              style: |
                ha-card {
                  margin: 10px;
                  box-shadow: 
                    {% if is_state('sun.sun', 'above_horizon') %}
                      -8px -8px 8px 0 rgba(255,255,255,.5),8px 8px 8px 0 rgba(0,0,0,.03);
                    {% elif is_state('sun.sun', 'below_horizon') %}
                      -8px -8px 8px 0 rgba(50, 50, 50,.5),8px 8px 8px 0 rgba(0,0,0,.15);
                    {% endif %}    
                }
            - entity: input_boolean.bedtime_meds_taken
              name: Bedtime Meds
              show_state: false
              template: standard_button
              type: 'custom:button-card'
              size: 30px
              state:
                - icon: 'mdi:check-circle'
                  value: 'on'
                  color: '#00b800'
                - icon: 'mdi:pill'
                  value: 'off'
                  color: '#D3D2D0'
              styles:
                card:
                  - border-radius: 15px
                  - background-color: var(--primary-background-color)
              style: |
                ha-card {
                  margin: 10px;
                  box-shadow: 
                    {% if is_state('sun.sun', 'above_horizon') %}
                      -8px -8px 8px 0 rgba(255,255,255,.5),8px 8px 8px 0 rgba(0,0,0,.03);
                    {% elif is_state('sun.sun', 'below_horizon') %}
                      -8px -8px 8px 0 rgba(50, 50, 50,.5),8px 8px 8px 0 rgba(0,0,0,.15);
                    {% endif %}    
                }
    - type: vertical-stack
      cards:        
        - type: conditional
          conditions:
            - entity: sensor.garbage_general
              state: "in 2 days"
          card:
            type: markdown
            content: |
              # Garbage Collection
            style: |
              ha-card {
                  --paper-card-background-color: 'rgba(11, 11, 11, 0.00)';
                  box-shadow: 2px 2px rgba(0,0,0,0.0);
              }
              h1 {
                font-size: 20px;
                font-weight: bold;
                font-family: Helvetica;
                letter-spacing: '-0.01em';
              }
        - type: horizontal-stack
          cards:
            - type: custom:garbage-collection-card
              entity: sensor.garbage_recycling
              hide_before: 2
              icon_size: 35px
              icon_color: green
              hide_date: true
              style: |
                ha-card {
                  background-color: var(--primary-background-color);
                  border-radius: 15px;
                  margin: 10px;
                  box-shadow: 
                    {% if is_state('sun.sun', 'above_horizon') %}
                      -8px -8px 8px 0 rgba(255,255,255,.5),8px 8px 8px 0 rgba(0,0,0,.03);
                    {% else %}
                      -8px -8px 8px 0 rgba(50, 50, 50,.5),8px 8px 8px 0 rgba(0,0,0,.15);
                    {% endif %}   
                }
            - type: custom:garbage-collection-card
              entity: sensor.garbage_general
              hide_before: 2
              icon_size: 35px
              icon_color: '#0561ba'
              style: |
                ha-card {
                  background-color: var(--primary-background-color);
                  border-radius: 15px;
                  margin: 10px;
                  box-shadow: 
                    {% if is_state('sun.sun', 'above_horizon') %}
                      -8px -8px 8px 0 rgba(255,255,255,.5),8px 8px 8px 0 rgba(0,0,0,.03);
                    {% else %}
                      -8px -8px 8px 0 rgba(50, 50, 50,.5),8px 8px 8px 0 rgba(0,0,0,.15);
                    {% endif %}   
                }
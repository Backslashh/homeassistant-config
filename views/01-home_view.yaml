  - icon: mdi:home-assistant
    id: home
    title: home
    path: home
    badges: []
    cards:
    - type: vertical-stack
      cards:
        - name: Weather in Warner
          template: header
          type: custom:button-card
        - type: horizontal-stack
          cards:
            - type: custom:simple-weather-card
              entity: weather.dark_sky
              name: in current location
    - type: vertical-stack
      cards:
        - name: Family Status
          template: header
          type: custom:button-card
        - type: horizontal-stack
          cards:
            - type: 'custom:button-card'
              entity: person.william
              aspect_ratio: 1/1
              name: William
              show_entity_picture: true
              state:
                - value: home
                  styles:
                  name:
                    - color: '#629632'
                  entity_picture: "/local/images/persons/william_home.png"
                - value: not_home
                  entity_picture: "/local/images/persons/william_away.png"
                  styles:
                  name:
                    - color: '#EF4F1A'
                - value: woolies_warner
                  entity_picture: "/local/images/persons/william_shops.png"
                  styles:
                  name:
                    - color: '#EF4F1A'
              styles:
                card:
                  #- border-radius: 0%
                  - padding: 5%
                  - color: ivory
                  - font-size: 12px
                  - text-shadow: 0px 0px 0px black
                  - text-transform: capitalize
                  - justify-self: end
                  - align-self: middle
                grid:
                  - grid-template-areas: '"i status" "n n" "proximity proximity" "battery battery" "sd sd"'
                  - grid-template-columns: 1fr 1fr
                  - grid-template-rows: 1fr min-content min-content min-content min-content
                name:
                  - font-size: 16px
                  - align-self: middle
                  - justify-self: start
                  - padding-bottom: 0px
                icon:
                  - width: 100%
                custom_fields:
                  status:
                    - align-self: start
                    - justify-self: end
                    - color: gray
                    #proximity:
                    #  - padding-bottom: 0px
                    #  - align-self: middle
                    #  - justify-self: start
                    #  - color: gray
                  battery:
                    - padding-bottom: 0px
                    - align-self: middle
                    - justify-self: start
                    - color: gray
                    - '--text-color-sensor': '[[[ if (states["sensor.william_battery"].state < 50) return "#EF4F1A"; ]]]'
              custom_fields:
                status: |
                  [[[
                  return `<ha-icon
                      style="width: 12px; height: 12px; color: black;">
                      </ha-icon><span>${entity.state}</span>`
                  ]]]
                #proximity: |
                #  [[[
                #    return `<ha-icon
                #      icon="mdi:map-marker-distance"
                #      style="width: 12px; height: 12px; color: deepskyblue;">
                #      </ha-icon>  <span>\<span style="color: var(--text-color-sensor);">${states['proximity.david'].state} miles</span></span>`
                #  ]]]
                battery: |
                  [[[
                  return `<ha-icon
                      icon="mdi:cellphone-android"
                      style="width: 12px; height: 12px; color: deepskyblue;">
                      </ha-icon> <span><span style="color: var(--text-color-sensor);">${states['sensor.william_battery'].state}% battery</span></span>`
                  ]]]
            - type: 'custom:button-card'
              entity: person.emily
              aspect_ratio: 1/1
              name: Emily
              show_entity_picture: true
              state:
                - value: home
                  styles:
                  name:
                    - color: '#629632'
                  entity_picture: "/local/images/persons/emily_home.jpeg"
                - value: not_home
                  entity_picture: "/local/images/persons/emily_away.jpeg"
                  styles:
                  name:
                    - color: '#EF4F1A'
              styles:
                card:
                  #- border-radius: 0%
                  - padding: 5%
                  - color: ivory
                  - font-size: 12px
                  - text-shadow: 0px 0px 0px black
                  - text-transform: capitalize
                  - justify-self: end
                  - align-self: middle
                grid:
                  - grid-template-areas: '"i status" "n n" "proximity proximity" "battery battery" "sd sd"'
                  - grid-template-columns: 1fr 1fr
                  - grid-template-rows: 1fr min-content min-content min-content min-content
                name:
                  - font-size: 16px
                  - align-self: middle
                  - justify-self: start
                  - padding-bottom: 0px
                icon:
                  - width: 100%
                custom_fields:
                  status:
                    - align-self: start
                    - justify-self: end
                    - color: gray
                    #proximity:
                    #  - padding-bottom: 0px
                    #  - align-self: middle
                    #  - justify-self: start
                    #  - color: gray
                  battery:
                    - padding-bottom: 0px
                    - align-self: middle
                    - justify-self: start
                    - color: gray
                    - '--text-color-sensor': '[[[ if (states["sensor.emily_battery_level"].state < 50) return "#EF4F1A"; ]]]'
              custom_fields:
                status: |
                  [[[
                  return `<ha-icon
                      style="width: 12px; height: 12px; color: black;">
                      </ha-icon><span>${entity.state}</span>`
                  ]]]
                #proximity: |
                #  [[[
                #    return `<ha-icon
                #      icon="mdi:map-marker-distance"
                #      style="width: 12px; height: 12px; color: deepskyblue;">
                #      </ha-icon>  <span>\<span style="color: var(--text-color-sensor);">${states['proximity.david'].state} miles</span></span>`
                #  ]]]
                battery: |
                  [[[
                  return `<ha-icon
                      icon="mdi:cellphone-android"
                      style="width: 12px; height: 12px; color: deepskyblue;">
                      </ha-icon> <span><span style="color: var(--text-color-sensor);">${states['sensor.emily_battery_level'].state}% battery</span></span>`
                  ]]]
    - type: horizontal-stack
      cards:
        - entity: light.kitchen_pendant_lights
          show_state: false
          show_name: false
          state_color: true
          icon: mdi:chef-hat
          icon_height: 30px
          type: button
          hold_action:
          action: navigate
          navigation_path: /lovelace/kitchen/
        - entity: light.lounge_room_lamp
          show_state: false
          show_name: false
          state_color: true
          icon: mdi:sofa
          icon_height: 30px
          type: button
          hold_action:
            action: navigate
          navigation_path: /lovelace/lounge_room/
    - type: horizontal-stack
      cards:
        - entity: light.bedroom_lamps
          show_state: false
          show_name: false
          state_color: true
          icon: mdi:bed-king-outline
          icon_height: 30px
          type: button
          tap_action:
            action: toggle
          hold_action:
            action: navigate
          navigation_path: /lovelace/bedroom/
        - entity: light.ollie_s_lamp
          show_state: false
          show_name: false
          state_color: true
          icon: mdi:heart-outline
          icon_height: 30px
          type: button
          tap_action:
            action: toggle
          hold_action:
            action: navigate
          navigation_path: /lovelace/ollie_room/
        - entity: light.teddy_s_lamp
          show_state: false
          show_name: false
          state_color: true
          icon: mdi:pokeball
          icon_height: 30px
          type: button
          tap_action:
            action: toggle
          hold_action:
            action: navigate
          navigation_path: /lovelace/teddy_room/
    - type: vertical-stack
      cards:
        - name: Security
          show_icon: false
          template: header
          type: 'custom:button-card'
        - type: horizontal-stack
          cards:
            - entity: alarm_control_panel.home_alarm
              name: Home Alarm
              show_state: true
              state:
                - styles:
                  icon:
                    - color: '#F0DC6E'
                  value: pending
                - styles:
                  icon:
                    - color: '#D3D2D0'
                  value: disarmed
                - styles:
                  icon:
                    - color: '#F9160B'
                  value: armed_away
                - styles:
                  icon:
                    - color: '#16A914'
                  value: armed_home
              template: standard_button
              type: 'custom:button-card'
            - entity: input_boolean.guest_mode
              name: guest mode
              show_state: true
              template: standard_button
              type: 'custom:button-card'
              state:
                - icon: 'mdi:account-multiple'
                  value: 'on'
                - icon: 'mdi:account'
                  value: 'off'
                  color: '#D3D2D0'
        - type: horizontal-stack
          cards:
            - entity: binary_sensor.garage_door
              name: Garage
              show_state: true
              state:
                - icon: 'mdi:garage-open-variant'
                  value: open
                  color: '#EF4F1A'
                - icon: 'mdi:garage-variant'
                  value: closed
                  color: '#00993E'
              template: standard_button
              type: 'custom:button-card'
            - entity: binary_sensor.back_door
              name: Back Door
              show_state: true
              state:
                - icon: 'mdi:door-open'
                  value: open
                  color: '#EF4F1A'
                - icon: 'mdi:door-closed'
                  value: closed
                  color: '#00993E'
              template: standard_button
              type: 'custom:button-card'
    - type: vertical-stack
      cards:
        - name: Ollie's Meds
          template: header
          show_icon: false
          show_state: true
          type: 'custom:button-card'
          layout: name_state
        - type: horizontal-stack
          cards:
            - entity: input_boolean.morning_meds_taken
              name: Morning Meds
              show_state: false
              template: standard_button
              type: 'custom:button-card'
              size: 30px
              state:
                - icon: 'mdi:check-circle'
                  value: 'on'
                  color: '#00b800'
                - icon: 'mdi:pill'
                  value: 'off'
                  color: '#D3D2D0'
            - entity: input_boolean.evening_meds_taken
              name: Evening Meds
              show_state: false
              template: standard_button
              type: 'custom:button-card'
              size: 30px
              state:
                - icon: 'mdi:check-circle'
                  value: 'on'
                  color: '#00b800'
                - icon: 'mdi:pill'
                  value: 'off'
                  color: '#D3D2D0'
            - entity: input_boolean.bedtime_meds_taken
              name: Bedtime Meds
              show_state: false
              template: standard_button
              type: 'custom:button-card'
              size: 30px
              state:
                - icon: 'mdi:check-circle'
                  value: 'on'
                  color: '#00b800'
                - icon: 'mdi:pill'
                  value: 'off'
                  color: '#D3D2D0'
    - type: vertical-stack
      cards:
        - name: Garbage Collection
          template: header
          show_icon: false
          show_state: true
          type: 'custom:button-card'
          layout: name_state
        - type: horizontal-stack
          cards:
            - type: custom:garbage-collection-card
              entity: sensor.garbage_recycling
              hide_before: 2
              icon_size: 35px
              icon_color: green
              hide_date: true
            - type: custom:garbage-collection-card
              entity: sensor.garbage_general
              hide_before: 2
              icon_size: 35px
              icon_color: '#0561ba'
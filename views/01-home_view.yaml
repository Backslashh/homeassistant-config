  - icon: mdi:home-assistant
    id: home
    title: home
    path: home
    badges: []
    cards:
    - type: vertical-stack
      cards:
        - type: markdown
          content: |
            # Family Status
          style: |
            ha-card {
                --paper-card-background-color: 'rgba(11, 11, 11, 0.00)';
                box-shadow: 2px 2px rgba(0,0,0,0.0);
            }
            h1 {
              font-size: 20px;
              font-weight: bold;
              font-family: Helvetica;
              letter-spacing: '-0.01em';
            }
        - type: horizontal-stack
          cards:
            - type: picture-entity
              title: William
              entity: binary_sensor.william_presence
              state_image:
                "off": "/local/images/persons/william_away.png"
                "on": "/local/images/persons/william_home.png"
                "Woolies Warner": "/local/images/persons/william_shops.png"
              style: |
                ha-card {
                  background-color: var(--primary-background-color);
                  border-radius: 15px;
                  margin: 10px;
                  width: 130px;
                  box-shadow: 
                    {% if is_state('sun.sun', 'above_horizon') %}
                      -8px -8px 8px 0 rgba(255,255,255,.5),8px 8px 8px 0 rgba(0,0,0,.03);
                    {% else %}
                      -8px -8px 8px 0 rgba(50, 50, 50,.5),8px 8px 8px 0 rgba(0,0,0,.15);
                    {% endif %}   
                }
            - type: picture-entity
              title: Emily
              entity: person.emily
              state_image:
                "not_home": "/local/images/persons/emily_away.jpeg"
                "home": "/local/images/persons/emily_home.jpeg"
              style: |
                ha-card {
                  background-color: var(--primary-background-color);
                  border-radius: 15px;
                  margin: 10px;
                  width: 130px;
                  box-shadow: 
                    {% if is_state('sun.sun', 'above_horizon') %}
                      -8px -8px 8px 0 rgba(255,255,255,.5),8px 8px 8px 0 rgba(0,0,0,.03);
                    {% else %}
                      -8px -8px 8px 0 rgba(50, 50, 50,.5),8px 8px 8px 0 rgba(0,0,0,.15);
                    {% endif %}   
                }
    - type: vertical-stack
      cards:
        - type: conditional
          conditions:
            - entity: group.all_lights
              state: "on"
          card:
            type: markdown
            content: |
              # Lights On
            style: |
              ha-card {
                  --paper-card-background-color: 'rgba(11, 11, 11, 0.00)';
                  box-shadow: 2px 2px rgba(0,0,0,0.0);
              }
              h1 {
                font-size: 20px;
                font-weight: bold;
                font-family: Helvetica;
                letter-spacing: '-0.01em';
              }
        - type: horizontal-stack
          cards:
            - type: conditional
              conditions:
                - entity: light.kitchen_lights
                  state: "on"
              card:
                type: 'custom:button-card'
                icon: 'mdi:ceiling-light'
                entity: light.kitchen_lights
                name: Kitchen Lights
                show_icon: true
                show_name: true
                state:
                  - styles:
                      icon:
                        - color: 'var(--paper-item-icon-active-color)  '
                    value: 'on'
                style: |
                  ha-card {
                    margin: 10px;
                    box-shadow: 
                      {% if is_state('sun.sun', 'above_horizon') and is_state('light.kitchen_lights', 'on') %}
                        inset -4px -4px 8px 0 rgba(255,255,255,.5), inset 4px 4px 8px 0 rgba(0,0,0,.03);
                      {% elif is_state('sun.sun', 'above_horizon') and is_state('light.kitchen_lights', 'off') %}                      
                        -5px -5px 8px 0 rgba(255,255,255,.5),5px 5px 8px 0 rgba(0,0,0,.03);
                      {% elif is_state('sun.sun', 'below_horizon') and is_state('light.kitchen_lights', 'on') %}                      
                        inset -4px -4px 10px 0 rgba(50, 50, 50,.5), inset 4px 4px 12px 0 rgba(0,0,0,.3); 
                      {% elif is_state('sun.sun', 'below_horizon') and is_state('light.kitchen_lights', 'off') %}   
                        -5px -5px 8px 0 rgba(50, 50, 50,.5),5px 5px 8px 0 rgba(0,0,0,.15);
                      {% endif %}    
                  }
                styles:
                  card:
                    - width: 100px
                    - height: 100px
                    - border-radius: 15px
                    - background-color: var(--primary-background-color)
                  name:
                    - font-size: 12px
                  icon:
                    - color: var(--primary-text-color)
                tap_action:
                  action: toggle
                  haptic: light
                hold_action:
                  action: more-info
                  haptic: light
            - type: conditional
              conditions:
                - entity: light.bedroom_lamps
                  state: "on"
              card:
                type: 'custom:button-card'
                icon: 'mdi:lamp'
                entity: light.bedroom_lamps
                show_icon: true
                show_name: true
                state:
                  - styles:
                      icon:
                        - color: 'var(--paper-item-icon-active-color)  '
                    value: 'on'
                style: |
                  ha-card {
                    margin: 10px;
                    box-shadow: 
                      {% if is_state('sun.sun', 'above_horizon') and is_state('light.bedroom_lamps', 'on') %}
                        inset -4px -4px 8px 0 rgba(255,255,255,.5), inset 4px 4px 8px 0 rgba(0,0,0,.03);
                      {% elif is_state('sun.sun', 'above_horizon') and is_state('light.bedroom_lamps', 'off') %}                      
                        -5px -5px 8px 0 rgba(255,255,255,.5),5px 5px 8px 0 rgba(0,0,0,.03);
                      {% elif is_state('sun.sun', 'below_horizon') and is_state('light.bedroom_lamps', 'on') %}                      
                        inset -4px -4px 10px 0 rgba(50, 50, 50,.5), inset 4px 4px 12px 0 rgba(0,0,0,.3); 
                      {% elif is_state('sun.sun', 'below_horizon') and is_state('light.bedroom_lamps', 'off') %}   
                        -5px -5px 8px 0 rgba(50, 50, 50,.5),5px 5px 8px 0 rgba(0,0,0,.15);
                      {% endif %}    
                  }
                styles:
                  card:
                    - width: 100px
                    - height: 100px
                    - border-radius: 15px
                    - background-color: var(--primary-background-color)
                  name:
                    - font-size: 12px
                  icon:
                    - color: var(--primary-text-color)
                tap_action:
                  action: toggle
                  haptic: light
                hold_action:
                  action: more-info
                  haptic: light
            - type: conditional
              conditions:
                - entity: light.lounge_room_lamp
                  state: "on"
              card:
                type: 'custom:button-card'
                icon: 'mdi:floor-lamp'
                entity: light.lounge_room_lamp
                show_icon: true
                show_name: true
                state:
                  - styles:
                      icon:
                        - color: 'var(--paper-item-icon-active-color)  '
                    value: 'on'
                style: |
                  ha-card {
                    margin: 10px;
                    box-shadow: 
                      {% if is_state('sun.sun', 'above_horizon') and is_state('light.lounge_room_lamp', 'on') %}
                        inset -4px -4px 8px 0 rgba(255,255,255,.5), inset 4px 4px 8px 0 rgba(0,0,0,.03);
                      {% elif is_state('sun.sun', 'above_horizon') and is_state('light.lounge_room_lamp', 'off') %}                      
                        -5px -5px 8px 0 rgba(255,255,255,.5),5px 5px 8px 0 rgba(0,0,0,.03);
                      {% elif is_state('sun.sun', 'below_horizon') and is_state('light.lounge_room_lamp', 'on') %}                      
                        inset -4px -4px 10px 0 rgba(50, 50, 50,.5), inset 4px 4px 12px 0 rgba(0,0,0,.3); 
                      {% elif is_state('sun.sun', 'below_horizon') and is_state('light.lounge_room_lamp', 'off') %}   
                        -5px -5px 8px 0 rgba(50, 50, 50,.5),5px 5px 8px 0 rgba(0,0,0,.15);
                      {% endif %}    
                  }
                styles:
                  card:
                    - width: 100px
                    - height: 100px
                    - border-radius: 15px
                    - background-color: var(--primary-background-color)
                  name:
                    - font-size: 12px
                  icon:
                    - color: var(--primary-text-color)
                tap_action:
                  action: toggle
                  haptic: light
                hold_action:
                  action: more-info
                  haptic: light
            - type: conditional
              conditions:
                - entity: light.teddy_s_lamp
                  state: "on"
              card:
                type: 'custom:button-card'
                icon: 'mdi:lamp'
                entity: light.teddy_s_lamp
                show_icon: true
                show_name: true
                state:
                  - styles:
                      icon:
                        - color: 'var(--paper-item-icon-active-color)  '
                    value: 'on'
                style: |
                  ha-card {
                    margin: 10px;
                    box-shadow: 
                      {% if is_state('sun.sun', 'above_horizon') and is_state('light.teddy_s_lamp', 'on') %}
                        inset -4px -4px 8px 0 rgba(255,255,255,.5), inset 4px 4px 8px 0 rgba(0,0,0,.03);
                      {% elif is_state('sun.sun', 'above_horizon') and is_state('light.teddy_s_lamp', 'off') %}                      
                        -5px -5px 8px 0 rgba(255,255,255,.5),5px 5px 8px 0 rgba(0,0,0,.03);
                      {% elif is_state('sun.sun', 'below_horizon') and is_state('light.teddy_s_lamp', 'on') %}                      
                        inset -4px -4px 10px 0 rgba(50, 50, 50,.5), inset 4px 4px 12px 0 rgba(0,0,0,.3); 
                      {% elif is_state('sun.sun', 'below_horizon') and is_state('light.teddy_s_lamp', 'off') %}   
                        -5px -5px 8px 0 rgba(50, 50, 50,.5),5px 5px 8px 0 rgba(0,0,0,.15);
                      {% endif %}    
                  }
                styles:
                  card:
                    - width: 100px
                    - height: 100px
                    - border-radius: 15px
                    - background-color: var(--primary-background-color)
                  name:
                    - font-size: 12px
                  icon:
                    - color: var(--primary-text-color)
                tap_action:
                  action: toggle
                  haptic: light
                hold_action:
                  action: more-info
                  haptic: light
            - type: conditional
              conditions:
                - entity: light.ollie_s_lamp
                  state: "on"
              card:
                type: 'custom:button-card'
                icon: 'mdi:lamp'
                entity: light.ollie_s_lamp
                show_icon: true
                show_name: true
                state:
                  - styles:
                      icon:
                        - color: 'var(--paper-item-icon-active-color)  '
                    value: 'on'
                style: |
                  ha-card {
                    margin: 10px;
                    box-shadow: 
                      {% if is_state('sun.sun', 'above_horizon') and is_state('light.ollie_s_lamp', 'on') %}
                        inset -4px -4px 8px 0 rgba(255,255,255,.5), inset 4px 4px 8px 0 rgba(0,0,0,.03);
                      {% elif is_state('sun.sun', 'above_horizon') and is_state('light.ollie_s_lamp', 'off') %}                      
                        -5px -5px 8px 0 rgba(255,255,255,.5),5px 5px 8px 0 rgba(0,0,0,.03);
                      {% elif is_state('sun.sun', 'below_horizon') and is_state('light.ollie_s_lamp', 'on') %}                      
                        inset -4px -4px 10px 0 rgba(50, 50, 50,.5), inset 4px 4px 12px 0 rgba(0,0,0,.3); 
                      {% elif is_state('sun.sun', 'below_horizon') and is_state('light.ollie_s_lamp', 'off') %}   
                        -5px -5px 8px 0 rgba(50, 50, 50,.5),5px 5px 8px 0 rgba(0,0,0,.15);
                      {% endif %}    
                  }
                styles:
                  card:
                    - width: 100px
                    - height: 100px
                    - border-radius: 15px
                    - background-color: var(--primary-background-color)
                  name:
                    - font-size: 12px
                  icon:
                    - color: var(--primary-text-color)
                tap_action:
                  action: toggle
                  haptic: light
                hold_action:
                  action: more-info
                  haptic: light
    - type: vertical-stack
      cards:
        - type: markdown
          content: |
            # Security
          style: |
            ha-card {
                --paper-card-background-color: 'rgba(11, 11, 11, 0.00)';
                box-shadow: 2px 2px rgba(0,0,0,0.0);
            }
            h1 {
              font-size: 20px;
              font-weight: bold;
              font-family: Helvetica;
              letter-spacing: '-0.01em';
            }
        - type: horizontal-stack
          cards:
            - entity: alarm_control_panel.home_alarm
              name: Home Alarm
              show_state: true
              state:
                - styles:
                    icon:
                      - color: '#F0DC6E'
                  value: pending
                - styles:
                    icon:
                      - color: '#D3D2D0'
                  value: disarmed
                - styles:
                    icon:
                      - color: '#F9160B'
                  value: armed_away
                - styles:
                    icon:
                      - color: '#16A914'
                  value: armed_home
              template: standard_button
              size: 30px
              type: 'custom:button-card'
              styles:
                card:
                  - border-radius: 15px
                  - background-color: var(--primary-background-color)
              style: |
                ha-card {
                  margin: 10px;
                  box-shadow: 
                    {% if is_state('sun.sun', 'above_horizon') %}
                      -8px -8px 8px 0 rgba(255,255,255,.5),8px 8px 8px 0 rgba(0,0,0,.03);
                    {% elif is_state('sun.sun', 'below_horizon') %}
                      -8px -8px 8px 0 rgba(50, 50, 50,.5),8px 8px 8px 0 rgba(0,0,0,.15);
                    {% endif %}    
                }
            - entity: input_boolean.guest_mode
              name: guest mode
              show_state: true
              template: standard_button
              size: 30px
              type: 'custom:button-card'
              state:
                - icon: 'mdi:account-multiple'
                  value: 'on'
                  color: 'var(--paper-item-icon-active-color)'
                - icon: 'mdi:account'
                  value: 'off'
              styles:
                card:
                  - border-radius: 15px
                  - background-color: var(--primary-background-color)
              style: |
                ha-card {
                  margin: 10px;
                  box-shadow: 
                    {% if is_state('sun.sun', 'above_horizon') and is_state('input_boolean.guest_mode', 'on') %}
                      inset -4px -4px 8px 0 rgba(255,255,255,.5), inset 4px 4px 8px 0 rgba(0,0,0,.03);
                    {% elif is_state('sun.sun', 'above_horizon') and is_state('input_boolean.guest_mode', 'off') %}                      
                      -5px -5px 8px 0 rgba(255,255,255,.5),5px 5px 8px 0 rgba(0,0,0,.03);
                    {% elif is_state('sun.sun', 'below_horizon') and is_state('input_boolean.guest_mode', 'on') %}                      
                      inset -4px -4px 10px 0 rgba(50, 50, 50,.5), inset 4px 4px 12px 0 rgba(0,0,0,.3); 
                    {% elif is_state('sun.sun', 'below_horizon') and is_state('input_boolean.guest_mode', 'off') %}   
                      -5px -5px 8px 0 rgba(50, 50, 50,.5),5px 5px 8px 0 rgba(0,0,0,.15);
                    {% endif %}    
                }
            - type: conditional
              conditions:
                - entity: binary_sensor.garage_door
                  state: "on"
              card:
                type: 'custom:button-card'
                entity: binary_sensor.garage_door
                name: Back Door
                show_state: true
                template: standard_button
                state:
                  - icon: 'mdi:garage-open-variant'
                    value: open
                    color: '#EF4F1A'
                  - icon: 'mdi:garage-variant'
                    value: closed
                    color: '#00993E'
                size: 30px
                styles:
                  card:
                    - border-radius: 15px
                    - background-color: var(--primary-background-color)
                style: |
                  ha-card {
                    margin: 10px;
                    box-shadow: 
                      {% if is_state('sun.sun', 'above_horizon') %}
                        -8px -8px 8px 0 rgba(255,255,255,.5),8px 8px 8px 0 rgba(0,0,0,.03);
                      {% elif is_state('sun.sun', 'below_horizon') %}
                        -8px -8px 8px 0 rgba(50, 50, 50,.5),8px 8px 8px 0 rgba(0,0,0,.15);
                      {% endif %}
            - type: conditional
              conditions:
                - entity: binary_sensor.back_door
                  state: "on"
              card:
                type: 'custom:button-card'
                entity: binary_sensor.back_door
                name: Back Door
                show_state: true
                template: standard_button
                state:
                  - icon: 'mdi:door-open'
                    value: open
                    color: '#EF4F1A'
                  - icon: 'mdi:door-closed'
                    value: closed
                    color: '#00993E'
                size: 30px
                styles:
                  card:
                    - border-radius: 15px
                    - background-color: var(--primary-background-color)
                style: |
                  ha-card {
                    margin: 10px;
                    box-shadow: 
                      {% if is_state('sun.sun', 'above_horizon') %}
                        -8px -8px 8px 0 rgba(255,255,255,.5),8px 8px 8px 0 rgba(0,0,0,.03);
                      {% elif is_state('sun.sun', 'below_horizon') %}
                        -8px -8px 8px 0 rgba(50, 50, 50,.5),8px 8px 8px 0 rgba(0,0,0,.15);
                      {% endif %}
    - type: vertical-stack
      cards:
        - type: markdown
          content: |
            # Ollie's Meds
          style: |
            ha-card {
                --paper-card-background-color: 'rgba(11, 11, 11, 0.00)';
                box-shadow: 2px 2px rgba(0,0,0,0.0);
            }
            h1 {
              font-size: 20px;
              font-weight: bold;
              font-family: Helvetica;
              letter-spacing: '-0.01em';
            }
        - type: horizontal-stack
          cards:
            - entity: input_boolean.morning_meds_taken
              name: Morning Meds
              show_state: false
              template: standard_button
              type: 'custom:button-card'
              size: 30px
              state:
                - icon: 'mdi:check-circle'
                  value: 'on'
                  color: '#00b800'
                - icon: 'mdi:pill'
                  value: 'off'
                  color: '#D3D2D0'
              styles:
                card:
                  - border-radius: 15px
                  - background-color: var(--primary-background-color)
              style: |
                ha-card {
                  margin: 10px;
                  box-shadow: 
                    {% if is_state('sun.sun', 'above_horizon') %}
                      -8px -8px 8px 0 rgba(255,255,255,.5),8px 8px 8px 0 rgba(0,0,0,.03);
                    {% elif is_state('sun.sun', 'below_horizon') %}
                      -8px -8px 8px 0 rgba(50, 50, 50,.5),8px 8px 8px 0 rgba(0,0,0,.15);
                    {% endif %}    
                }
            - entity: input_boolean.evening_meds_taken
              name: Evening Meds
              show_state: false
              template: standard_button
              type: 'custom:button-card'
              size: 30px
              state:
                - icon: 'mdi:check-circle'
                  value: 'on'
                  color: '#00b800'
                - icon: 'mdi:pill'
                  value: 'off'
                  color: '#D3D2D0'
              styles:
                card:
                  - border-radius: 15px
                  - background-color: var(--primary-background-color)
              style: |
                ha-card {
                  margin: 10px;
                  box-shadow: 
                    {% if is_state('sun.sun', 'above_horizon') %}
                      -8px -8px 8px 0 rgba(255,255,255,.5),8px 8px 8px 0 rgba(0,0,0,.03);
                    {% elif is_state('sun.sun', 'below_horizon') %}
                      -8px -8px 8px 0 rgba(50, 50, 50,.5),8px 8px 8px 0 rgba(0,0,0,.15);
                    {% endif %}    
                }
            - entity: input_boolean.bedtime_meds_taken
              name: Bedtime Meds
              show_state: false
              template: standard_button
              type: 'custom:button-card'
              size: 30px
              state:
                - icon: 'mdi:check-circle'
                  value: 'on'
                  color: '#00b800'
                - icon: 'mdi:pill'
                  value: 'off'
                  color: '#D3D2D0'
              styles:
                card:
                  - border-radius: 15px
                  - background-color: var(--primary-background-color)
              style: |
                ha-card {
                  margin: 10px;
                  box-shadow: 
                    {% if is_state('sun.sun', 'above_horizon') %}
                      -8px -8px 8px 0 rgba(255,255,255,.5),8px 8px 8px 0 rgba(0,0,0,.03);
                    {% elif is_state('sun.sun', 'below_horizon') %}
                      -8px -8px 8px 0 rgba(50, 50, 50,.5),8px 8px 8px 0 rgba(0,0,0,.15);
                    {% endif %}    
                }
    - type: vertical-stack
      cards:        
        - type: conditional
          conditions:
            - entity: sensor.garbage_general
              state: "in 2 days"
          card:
            type: markdown
            content: |
              # Garbage Collection
            style: |
              ha-card {
                  --paper-card-background-color: 'rgba(11, 11, 11, 0.00)';
                  box-shadow: 2px 2px rgba(0,0,0,0.0);
              }
              h1 {
                font-size: 20px;
                font-weight: bold;
                font-family: Helvetica;
                letter-spacing: '-0.01em';
              }
        - type: horizontal-stack
          cards:
            - type: custom:garbage-collection-card
              entity: sensor.garbage_recycling
              hide_before: 2
              icon_size: 35px
              icon_color: green
              hide_date: true
              style: |
                ha-card {
                  background-color: var(--primary-background-color);
                  border-radius: 15px;
                  margin: 10px;
                  box-shadow: 
                    {% if is_state('sun.sun', 'above_horizon') %}
                      -8px -8px 8px 0 rgba(255,255,255,.5),8px 8px 8px 0 rgba(0,0,0,.03);
                    {% else %}
                      -8px -8px 8px 0 rgba(50, 50, 50,.5),8px 8px 8px 0 rgba(0,0,0,.15);
                    {% endif %}   
                }
            - type: custom:garbage-collection-card
              entity: sensor.garbage_general
              hide_before: 2
              icon_size: 35px
              icon_color: '#0561ba'
              style: |
                ha-card {
                  background-color: var(--primary-background-color);
                  border-radius: 15px;
                  margin: 10px;
                  box-shadow: 
                    {% if is_state('sun.sun', 'above_horizon') %}
                      -8px -8px 8px 0 rgba(255,255,255,.5),8px 8px 8px 0 rgba(0,0,0,.03);
                    {% else %}
                      -8px -8px 8px 0 rgba(50, 50, 50,.5),8px 8px 8px 0 rgba(0,0,0,.15);
                    {% endif %}   
                }
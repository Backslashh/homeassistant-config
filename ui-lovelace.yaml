button_card_templates:
  header:
    styles:
      card:
        - background-color: '#EBF4FC'
        - box-shadow: none
        - border-radius: 0%
        - padding: 0%
        - color: ivory
        - font-size: 10px
        - text-shadow: 0px 0px 0px black
        - text-transform: capitalize
      icon:
        - width: 15%
        - margin-top: 0%
        - margin-left: 0%
        - color: white
      name:
        - font-size: 16px
        - color: '#253B56'
        - text-transform: capitalize
        - justify-self: start
        - margin-left: 1%
        #- font-family: avenir
  standard_button:
    styles:
      card:
        - font-size: 10px
      icon:
        - width: 30%
      name:
        - font-size: 12px
        - color: '#6A7889'
        - font-family: avenir
      state:
        - justify-self: start
        - font-size: 10px
        - padding: 0px 5px
        - color: '#6A7889'
        - font-family: avenir

custom_header:
  compact_mode: true
  background: var(--app-header-background-color)
  elements_color: var(--app-header-text-color)
  active_tab_color: var(--state-icon-active-color)
  tab_indicator_color: var(--state-icon-active-color)

title: Beckett Home
views:
  - icon: mdi:home-assistant
    id: home
    title: home
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - name: Weather in Warner
            template: header
            type: custom:button-card
          - type: horizontal-stack
            cards:
              - type: custom:simple-weather-card
                entity: weather.openweathermap
                name: in current location
      - type: vertical-stack
        cards:
          - name: Family Status
            template: header
            type: custom:button-card
          - type: horizontal-stack
            cards:
              - type: 'custom:button-card'
                entity: person.william
                aspect_ratio: 1/1
                name: William
                show_entity_picture: true
                state:
                  - value: home
                    styles:
                      name:
                        - color: '#629632'
                    entity_picture: "/local/images/persons/william_home.png"
                  - value: away
                    entity_picture: "/local/images/persons/william_away.png"
                    styles:
                      name:
                        - color: '#EF4F1A'
                styles:
                  card:
                    - border-radius: 0%
                    - padding: 5%
                    - color: ivory
                    - font-size: 12px
                    - text-shadow: 0px 0px 0px black
                    - text-transform: capitalize
                    - justify-self: end
                    - align-self: middle
                    - font-family: avenir
                  grid:
                    - grid-template-areas: '"i status" "n n" "proximity proximity" "battery battery" "sd sd"'
                    - grid-template-columns: 1fr 1fr
                    - grid-template-rows: 1fr min-content min-content min-content min-content
                  name:
                    - font-size: 16px
                    - align-self: middle
                    - justify-self: start
                    - padding-bottom: 0px
                  icon:
                    - width: 100%
                  custom_fields:
                    status:
                      - align-self: start
                      - justify-self: end
                      - color: gray
                    #proximity:
                    #  - padding-bottom: 0px
                    #  - align-self: middle
                    #  - justify-self: start
                    #  - color: gray
                    battery:
                      - padding-bottom: 0px
                      - align-self: middle
                      - justify-self: start
                      - color: gray
                      - '--text-color-sensor': '[[[ if (states["sensor.william_battery"].state < 50) return "#EF4F1A"; ]]]'
                custom_fields:
                  status: |
                    [[[
                      return `<ha-icon
                        style="width: 12px; height: 12px; color: black;">
                        </ha-icon><span>${entity.state}</span>`
                    ]]]
                  #proximity: |
                  #  [[[
                  #    return `<ha-icon
                  #      icon="mdi:map-marker-distance"
                  #      style="width: 12px; height: 12px; color: deepskyblue;">
                  #      </ha-icon>  <span>\<span style="color: var(--text-color-sensor);">${states['proximity.david'].state} miles</span></span>`
                  #  ]]]
                  battery: |
                    [[[
                      return `<ha-icon
                        icon="mdi:cellphone-android"
                        style="width: 12px; height: 12px; color: deepskyblue;">
                        </ha-icon> <span><span style="color: var(--text-color-sensor);">${states['sensor.william_battery'].state}% battery</span></span>`
                    ]]]
              - type: 'custom:button-card'
                entity: person.emily
                aspect_ratio: 1/1
                name: Emily
                show_entity_picture: true
                state:
                  - value: home
                    styles:
                      name:
                        - color: '#629632'
                    entity_picture: "/local/images/persons/emily.png"
                  - value: away
                    entity_picture: "/local/images/persons/emily_away.png"
                    styles:
                      name:
                        - color: '#EF4F1A'
                styles:
                  card:
                    - border-radius: 0%
                    - padding: 5%
                    - color: ivory
                    - font-size: 12px
                    - text-shadow: 0px 0px 0px black
                    - text-transform: capitalize
                    - justify-self: end
                    - align-self: middle
                    - font-family: avenir
                  grid:
                    - grid-template-areas: '"i status" "n n" "proximity proximity" "battery battery" "sd sd"'
                    - grid-template-columns: 1fr 1fr
                    - grid-template-rows: 1fr min-content min-content min-content min-content
                  name:
                    - font-size: 16px
                    - align-self: middle
                    - justify-self: start
                    - padding-bottom: 0px
                  icon:
                    - width: 100%
                  custom_fields:
                    status:
                      - align-self: start
                      - justify-self: end
                      - color: gray
                    #proximity:
                    #  - padding-bottom: 0px
                    #  - align-self: middle
                    #  - justify-self: start
                    #  - color: gray
                    battery:
                      - padding-bottom: 0px
                      - align-self: middle
                      - justify-self: start
                      - color: gray
                      - '--text-color-sensor': '[[[ if (states["sensor.battery_level_emily"].state < 50) return "#EF4F1A"; ]]]'
                custom_fields:
                  status: |
                    [[[
                      return `<ha-icon
                        style="width: 12px; height: 12px; color: black;">
                        </ha-icon><span>${entity.state}</span>`
                    ]]]
                  #proximity: |
                  #  [[[
                  #    return `<ha-icon
                  #      icon="mdi:map-marker-distance"
                  #      style="width: 12px; height: 12px; color: deepskyblue;">
                  #      </ha-icon>  <span>\<span style="color: var(--text-color-sensor);">${states['proximity.david'].state} miles</span></span>`
                  #  ]]]
                  battery: |
                    [[[
                      return `<ha-icon
                        icon="mdi:cellphone-android"
                        style="width: 12px; height: 12px; color: deepskyblue;">
                        </ha-icon> <span><span style="color: var(--text-color-sensor);">${states['sensor.battery_level_emily'].state}% battery</span></span>`
                    ]]]
  
      - type: vertical-stack
        cards:
          - name: Security
            show_icon: false
            template: header
            type: 'custom:button-card'
          - type: horizontal-stack
            cards:
              - entity: alarm_control_panel.home_alarm
                name: Home Alarm
                show_state: true
                state:
                  - styles:
                      icon:
                        - color: '#F0DC6E'
                    value: pending
                  - styles:
                      icon:
                        - color: '#D3D2D0'
                    value: disarmed
                  - styles:
                      icon:
                        - color: '#F9160B'
                    value: armed_away
                  - styles:
                      icon:
                        - color: '#16A914'
                    value: armed_home
                template: standard_button
                type: 'custom:button-card'
              - entity: input_select.home_mode
                name: Home Mode
                show_state: true
                state:
                  - styles:
                      icon:
                        - color: '#D3D2D0'
                    value: Home
                  - styles:
                      icon:
                        - color: '#F9160B'
                    value: Away
                  - styles:
                      icon:
                        - color: '#16A914'
                    value: Night
                template: standard_button
                type: 'custom:button-card'
              - entity: input_boolean.guest_mode
                name: guest mode
                show_state: true
                template: standard_button
                type: 'custom:button-card'
                state:
                  - icon: 'mdi:account-multiple'
                    value: 'on'
                  - icon: 'mdi:account'
                    value: 'off'
                    color: '#D3D2D0'
          - type: horizontal-stack
            cards:
              - entity: binary_sensor.garage_door
                name: Garage
                show_state: true
                state:
                  - icon: 'mdi:garage-open-variant'
                    value: open
                    color: '#EF4F1A'
                  - icon: 'mdi:garage-variant'
                    value: closed
                    color: '#00993E'
                template: standard_button
                type: 'custom:button-card'
              - entity: binary_sensor.back_door
                name: Back Door
                show_state: true
                state:
                  - icon: 'mdi:door-open'
                    value: open
                    color: '#EF4F1A'
                  - icon: 'mdi:door-closed'
                    value: closed
                    color: '#00993E'
                template: standard_button
                type: 'custom:button-card'
      - type: vertical-stack
        cards:
          - name: Open Doors
            template: header
            type: 'custom:button-card'
          - card:
            entities:
              - binary_sensor.garage_door
              - binary_sensor.back_door
            show_empty: false
            show_header: false
            state_filter:
              - 'on'
              - open
            type: entity-filter
      - type: vertical-stack
        cards:
          - name: Ollie's Meds
            template: header
            show_icon: false
            show_state: true
            type: 'custom:button-card'
            layout: name_state
          - type: horizontal-stack
            cards:
              - entity: input_boolean.morning_meds_taken
                name: Morning Meds
                show_state: false
                template: standard_button
                type: 'custom:button-card'
                state:
                  - icon: 'mdi:check-circle'
                    value: 'on'
                    color: '#00b800'
                  - icon: 'mdi:pill'
                    value: 'off'
                    color: '#D3D2D0'
              - entity: input_boolean.evening_meds_taken
                name: Evening Meds
                show_state: false
                template: standard_button
                type: 'custom:button-card'
                state:
                  - icon: 'mdi:check-circle'
                    value: 'on'
                    color: '#00b800'
                  - icon: 'mdi:pill'
                    value: 'off'
                    color: '#D3D2D0'
              - entity: input_boolean.bedtime_meds_taken
                name: Bedtime Meds
                show_state: false
                template: standard_button
                type: 'custom:button-card'
                state:
                  - icon: 'mdi:check-circle'
                    value: 'on'
                    color: '#00b800'
                  - icon: 'mdi:pill'
                    value: 'off'
                    color: '#D3D2D0'
  - icon: mdi:lightbulb-outline
    id: lights
    title: Lights
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - name: Kitchen Lights
            template: header
            show_icon: false
            show_state: true
            type: 'custom:button-card'
            layout: name_state
          - type: horizontal-stack
            cards:
              - entity: light.kitchen_pendant_lights
                name: Kitchen Pendant Lights
                type: light
              - entity: light.kitchen_downlight
                name: Kitchen Downlight
                type: light
      - type: vertical-stack
        cards:
          - name: Bedroom Lights
            template: header
            show_icon: false
            show_state: true
            type: 'custom:button-card'
            layout: name_state
          - type: horizontal-stack
            cards:
              - entity: light.bedroom_lamps
                name: Bedroom Lamps
                show_state: true
                state:
                  - icon: 'mdi:lamp'
                    value: 'on'
                  - icon: 'mdi:lamp'
                    value: 'off'
                    color: '#D3D2D0'
                template: standard_button
                type: 'custom:button-card'
                hold_action:
                  action: more-info
      - type: vertical-stack
        cards:
          - name: Teddy's Room
            template: header
            show_icon: false
            show_state: true
            type: 'custom:button-card'
            layout: name_state
          - type: horizontal-stack
            cards:
              - entity: light.teddy_s_lamp
                name: Teddy's Lamp
                show_state: true
                state:
                  - icon: 'mdi:lamp'
                    value: 'on'
                  - icon: 'mdi:lamp'
                    value: 'off'
                    color: '#D3D2D0'
                template: standard_button
                type: 'custom:button-card'
                hold_action:
                  action: more-info
      - type: vertical-stack
        cards:
          - name: Ollie's Room
            template: header
            show_icon: false
            show_state: true
            type: 'custom:button-card'
            layout: name_state
          - type: horizontal-stack
            cards:
              - entity: light.ollie_s_lamp
                name: Ollie's Lamp
                show_state: true
                state:
                  - icon: 'mdi:lamp'
                    value: 'on'
                  - icon: 'mdi:lamp'
                    value: 'off'
                    color: '#D3D2D0'
                template: standard_button
                type: 'custom:button-card'
                hold_action:
                  action: more-info
      - type: vertical-stack
        cards:
          - name: Lounge Room
            template: header
            show_icon: false
            show_state: true
            type: 'custom:button-card'
            layout: name_state
          - type: horizontal-stack
            cards:
              - entity: light.lounge_room_lamp
                name: Lounge Room Lamp
                show_state: true
                state:
                  - icon: 'mdi:floor-lamp'
                    value: 'on'
                  - icon: 'mdi:floor-lamp'
                    value: 'off'
                    color: '#D3D2D0'
                template: standard_button
                type: 'custom:button-card'
                hold_action:
                  action: more-info
  - icon: mdi:cctv
    id: Cameras
    title: Cameras
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - name: Cameras
            template: header
            show_icon: false
            show_state: true
            type: 'custom:button-card'
            layout: name_state
          - type: picture-glance
            title: Front Door
            camera_image: camera.front_door
            camera_view: live
            entities:
            - camera.front_door
          - type: picture-entity
            entity: camera.deepstack_latest_image
            title: Latest Detection
  - icon: mdi:play-circle
    id: Media
    title: Media
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - name: All Speakers
            template: header
            show_icon: false
            show_state: true
            type: 'custom:button-card'
            layout: name_state
          - type: custom:mini-media-player
            entity: media_player.all_speakers
            info: scroll
            artwork: cover
      - type: vertical-stack
        cards:
          - name: Lounge Room
            template: header
            show_icon: false
            show_state: true
            type: 'custom:button-card'
            layout: name_state
          - type: custom:mini-media-player
            entity: media_player.lounge_room_tv
            info: scroll
            artwork: cover
      - type: vertical-stack
        cards:
          - name: Kitchen
            template: header
            show_icon: false
            show_state: true
            type: 'custom:button-card'
            layout: name_state
          - type: custom:mini-media-player
            entity: media_player.kitchen_display
            info: scroll
            artwork: cover
      - type: vertical-stack
        cards:
          - name: Bedroom
            template: header
            show_icon: false
            show_state: true
            type: 'custom:button-card'
            layout: name_state
          - type: custom:mini-media-player
            entity: media_player.bedroom_tv
            info: scroll
            artwork: cover
          - type: custom:mini-media-player
            entity: media_player.bedroom_speaker
            info: scroll
            artwork: cover
      - type: vertical-stack
        cards:
          - name: Teddy's Room
            template: header
            show_icon: false
            show_state: true
            type: 'custom:button-card'
            layout: name_state
          - type: custom:mini-media-player
            entity: media_player.teddy_s_speaker
            info: scroll
            artwork: cover
      - type: vertical-stack
        cards:
          - name: Ollie's Room
            template: header
            show_icon: false
            show_state: true
            type: 'custom:button-card'
            layout: name_state
          - type: custom:mini-media-player
            entity: media_player.ollie_s_speaker
            info: scroll
            artwork: cover
              

  